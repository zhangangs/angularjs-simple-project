<div id="register">
    <div class="content">
        <div class="navbarbox">
            <div class="register-a">
                <span data-translate="register.memo">Have an account?</span>
                <a ui-sref='LoginMain' data-translate="register.toLogin">Sign In</a>
                </label>
            </div>
            <div>
                <ul class="nav nav-tabs">
                    <li class="uib-tab" ng-class='{"active":vm.data.type == 0}'>
                        <a href="" class="nav-link" ui-sref="register({type:0})" data-translate="register.mobile"></a>
                    </li>
                    <li class="uib-tab" ng-class='{"active":vm.data.type ==1}'>
                        <a href="" class="nav-link" ui-sref="register({type:1})" data-translate="register.email"></a>
                    </li>
                </ul>
                <div class="tab-content">
                    <!--  手机  -->
                    <div class="tab-pane" ng-class="{'active': vm.data.type == 0}">
                        <div class="content__left">
                            <form ng-submit="vm.register()" name="form" novalidate class="form">
                                <div class="form-group has-feedback">
                                    <label><span data-translate="register.formMobile.mobile"></span> <i>*</i> </label>
                                    <div class="content__left-dropdown clearfix">
                                        <div class="dropdown-select">
                                            <div class="dropdown">
                                                <button class="btn btn-default dropdown-toggle" type="button"
                                                    id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true"
                                                    aria-expanded="true">
                                                    0086
                                                    <span class="caret"></span>
                                                </button>
                                                <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
                                                    <li><a href="#">Action</a></li>
                                                    <li><a href="#">Another action</a></li>
                                                    <li><a href="#">Something else here</a></li>
                                                    <li role="separator" class="divider"></li>
                                                    <li><a href="#">Separated link</a></li>
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="dropdown-input">
                                            <input autocomplete="off" type="text" class="form-control"
                                                ng-model="vm.mobile.mobile" name="mobile"
                                                ng-pattern="/^[1][3,4,5,7,8][0-9]{9}$/" mobile-async ng-focus
                                                required />
                                        </div>
                                    </div>
                                    <!-- <label class="has-error" ng-if="form.mobile.$dirty && form.mobile.$invalid && !form.mobile.$focused"> -->
                                    <label class="has-error" ng-if="form.mobile.$dirty && form.mobile.$invalid">
                                        <span ng-show='form.mobile.$error.required'
                                            data-translate="register.formMobile.mobile.required.notnull">phone
                                            number cannot be empty</span>
                                        <span ng-show='form.mobile.$error.pattern'
                                            data-translate="register.formMobile.mobile.required.correct"></span>
                                        <!-- <span ng-show='form.mobile.$error.requiredMobile' data-translate="register.formMobile.mobile.required.error">手机号码不能为空</span> -->

                                        <span ng-show='form.mobile.$error.unique'
                                            data-translate="register.formMobile.mobile.required.exist">he
                                            phone number already exists</span>
                                    </label>
                                </div>
                                <!-- <div class="form-group">
                                    <label><span data-translate="register.formMobile.captchacode"></span> <i>*</i>
                                    </label>
                                    <div class="row">
                                        <div class="col-sm-8" ng-class="{'has-error':form.captchacode.$error.required}">
                                            <input autocomplete="off" type="text" class="form-control" ng-model="vm.mobile.captchacode"
                                                name="captchacode" required ng-focus ng-pattern="/^[\da-zA-Z]{4}$/">
                                            <label class="has-error" ng-if="form.captchacode.$dirty && form.captchacode.$invalid">
                                                <span ng-show='form.captchacode.$error.required' data-translate="register.formMobile.captchacode.required.notnull">The
                                                    captcha cannot be empty</span>
                                                <span ng-show='form.captchacode.$error.pattern' data-translate="register.formMobile.entry.captchacode"></span>
                                            </label>
                                        </div>
                                        <div class="col-sm-4">
                                            <span class="identifyingcode">
                                                <img style="width: 100%" src="/exchmarcket-web-biz/v1/user/getcaptchaimage"
                                                    ng-if="vm.isCaptchShow" class="imgcode" placeholder="image code"
                                                    ng-click="vm.method.refreshCaptch()" />
                                            </span>
                                        </div>
                                        </dd>
                                    </div>
                                </div> -->
                                <!-- 短信验证码 -->
                                <div class="form-group">
                                    <label><span data-translate="register.formMobile.sms"></span> <i>*</i> </label>
                                    <div class="form-sms__wrap">
                                        <input autocomplete="off" type="text" class="form-control"
                                            ng-model="vm.mobile.smsCode" name="smsCode" required ng-focus
                                            ng-pattern="/^[\d]{6}$/" />
                                        <label class="has-error" ng-if="form.smsCode.$dirty && form.smsCode.$invalid ">
                                            <span ng-show='form.smsCode.$error.required'
                                                data-translate="register.formMobile.sms.required.notnull">
                                            </span>
                                            <span ng-show='form.smsCode.$error.pattern'
                                                data-translate="register.formMobile.entry.mobilecode"></span>
                                        </label>
                                        <div class="form-sms__content">
                                            <button class="btn btn-yellow " type="button"
                                                ng-click="vm.method.checkMobileExits()"
                                                ng-if="!vm.mobile.mobile || vm.data.disabled"
                                                ng-disabled="!vm.mobile.mobile || vm.data.disabled">
                                                <span ng-if="!vm.data.disabled">{{'register.formMobile.sendSms' |
                                                    translate}}</span>
                                                <span ng-if="vm.data.disabled">
                                                    <label for="">
                                                        {{'register.formMobile.resend' | translate}}
                                                    </label>
                                                    {{vm.data.text}}
                                                </span>
                                            </button>
                                            <button class="btn btn-yellow" type="button"
                                                ng-click="vm.method.checkMobileExits()"
                                                ng-if="!(!vm.mobile.mobile || vm.data.disabled)"
                                                ng-disabled="!vm.mobile.mobile || vm.data.disabled">
                                                {{'register.formMobile.sendSms' |
                                                translate}}
                                            </button>
                                        </div>
                                    </div>
                                    <!-- <div class="row">
                                        <div class="col-sm-8">
                                            <input autocomplete="off" type="text" class="form-control" ng-model="vm.mobile.smsCode"
                                                name="smsCode" required ng-focus ng-pattern="/^[\d]{6}$/" />
                                            <label class="has-error" ng-if="form.smsCode.$dirty && form.smsCode.$invalid ">
                                                <span ng-show='form.smsCode.$error.required' data-translate="register.formMobile.sms.required.notnull">
                                                </span>
                                                <span ng-show='form.smsCode.$error.pattern' data-translate="register.formMobile.entry.mobilecode"></span>
                                            </label>
                                        </div>
                                        <div class="col-sm-4">
                                            <button class="btn btn-yellow btn-block" type="button" ng-click="vm.method.checkMobileExits()"
                                                ng-if="!vm.mobile.captchacode || vm.data.disabled" ng-disabled="!vm.mobile.captchacode || vm.data.disabled">{{vm.data.text}}</button>
                                            <button class="btn btn-yellow" type="button" ng-click="vm.method.checkMobileExits()"
                                                ng-if="!(!vm.mobile.captchacode || vm.data.disabled)" ng-disabled="!vm.mobile.captchacode || vm.data.disabled">{{vm.data.text}}</button>
                                        </div>
                                    </div> -->
                                </div>
                                <!-- 短信验证码 -->
                                <div class="form-group">
                                    <label>
                                        <span data-translate="register.formMobile.password"></span> <i>*</i>
                                    </label>
                                    <input autocomplete="off" type="password" class="form-control" name="password"
                                        ng-model="vm.mobile.password" required ng-focus
                                        ng-pattern="/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,16}$/" />

                                    <label class="has-error" ng-if="form.password.$dirty && form.password.$invalid ">
                                        <span ng-show='form.password.$error.required'
                                            data-translate="register.formMobile.password.required.notnull">
                                        </span>
                                        <span ng-show='form.password.$error.pattern'
                                            data-translate="register.formMobile.password.required"></span>
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label><span data-translate="register.formMobile.confirmPassword"></span>
                                        <i>*</i></label>
                                    <input autocomplete="off" type="password" class="form-control"
                                        name="confirmPassword" ng-model="vm.mobile.confirmPassword" required ng-focus
                                        password-check="password" />
                                    <label class="has-error"
                                        ng-if="form.confirmPassword.$dirty && form.confirmPassword.$invalid ">
                                        <span ng-show='form.confirmPassword.$error.required'
                                            data-translate="register.formMobile.password.required.notnull">
                                        </span>
                                        <span ng-show="form.confirmPassword.$error.repeat"
                                            data-translate="register.formMobile.password.required.unify"></span>
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label><span data-translate="register.formMobile.inviteCode"></span></label>
                                    <input autocomplete="off" type="text" class="form-control"
                                        mg-model="vm.mobile.inviteCode" />
                                </div>
                                <div class="form-group form-protocol">
                                    <label>
                                        <input autocomplete="off" type="checkbox" ng-model="vm.mobile.aggrement" />
                                        <span data-translate="register.formMobile.comfirm"></span>
                                        <a ui-sref="about.agreement" target="_blank" data-translate="register.formMobile.agreement">  </a>
                                        <a ui-sref="about.privacyPolicy" target="_blank" data-translate="register.formMobile.Privacy.clause"></a>
                                    </label>
                                </div>
                                <!-- <div class="form-group form-protocol">
                                    <label>
                                        <input autocomplete="off" type="checkbox" ng-model="vm.mobile.privacy" />
                                        <span data-translate="register.formMobile.comfirm"></span>
                                        <a ui-sref="about.privacyPolicy" target="_blank">
                                            <span data-translate="register.formMobile.Privacy.clause"></span>
                                        </a>
                                    </label>
                                </div> -->
                                <div class="form-group">
                                    <button class="btn btn-info btn-submit" ng-if="form.$invalid" type="submit"
                                        data-translate="register.submit" disabled>
                                    </button>
                                    <button class="btn btn-info btn-submit" ng-if="!form.$invalid" type="submit"
                                        button-loadbar="vm.isLoadingMobile"
                                        button-value="{{'register.submit' |translate}}">
                                    </button>
                                </div>
                            </form>
                        </div>
                        <div class="content__right">
                            <p data-translate="register.formMobile.run.environment"></p>
                            <!-- <p> Review the build differences & pick one that’s right for you.</p> -->
                        </div>
                    </div>

                    <!--  邮箱  -->
                    <div class="tab-pane" ng-class="{'active': vm.data.type == 1}">
                        <div class="content__left">
                            <form class="form" name="formEmail" novalidate ng-submit="vm.method.registerByEmail()">
                                <div class="form-group">
                                    <label>
                                        <span data-translate="register.mailbox"></span><i>*</i>
                                    </label>
                                    <input autocomplete="off" type="text" class="form-control" ng-model="vm.email.email"
                                        name="email" required email-async ng-focus
                                        ng-class="{ 'has-error': formEmail.email.$invalid && !formEmail.email.$pristine}"
                                        ng-pattern="/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/" />
                                    <label class="has-error"
                                        ng-show="formEmail.email.$dirty && formEmail.email.$invalid">
                                        <span ng-show="formEmail.email.$error.required"
                                            data-translate="register.email.required.notnull"></span>
                                        <span ng-show="formEmail.email.$error.pattern"
                                            data-translate="register.email.error"></span>
                                        <span ng-show="formEmail.email.$error.unique"
                                            data-translate="register.email.registered"></span>
                                    </label>
                                </div>
                                <!-- <div class="form-group">
                                    <label>
                                        <span data-translate="register.formMobile.captchacode"></span> <i>*</i>
                                    </label>
                                    <div class="row">
                                        <div class="col-sm-8">
                                            <input autocomplete="off" type="text" class="form-control" ng-model="vm.email.captchacode"
                                                name="captchacode" required name="captchacode" required ng-focus
                                                ng-pattern="/^[\da-zA-Z]{4}$/" ng-class="{'has-error': formEmail.captchacode.$invalid && !formEmail.captchacode.$pristine}">

                                            <label class="has-error" ng-if="formEmail.captchacode.$dirty && formEmail.captchacode.$invalid ">
                                                <span ng-show='formEmail.captchacode.$error.required' data-translate="register.formMobile.captchacode.required.notnull">The
                                                    captcha cannot be empty</span>
                                                <span ng-show='formEmail.captchacode.$error.pattern' data-translate="register.formMobile.entry.captchacode"></span>
                                            </label>
                                        </div>
                                        <div class="col-sm-4">
                                            <span class="identifyingcode">
                                                <img style="width: 100%" src="/exchmarcket-web-biz/v1/user/getcaptchaimage"
                                                    ng-if="vm.isCaptchShow" class="imgcode" placeholder="image code"
                                                    ng-click="vm.isCaptchShow=vm.method.refreshCaptch()" />
                                            </span>
                                        </div>
                                        </dd>
                                    </div>
                                </div> -->
                                <div class="form-group">
                                    <label data-translate="register.formMobile.emailcode"></label>
                                    <div class="form-sms__wrap">
                                        <input autocomplete="off" type="text" class="form-control"
                                            ng-model="vm.email.code" name="code" required ng-focus
                                            ng-pattern="/^[\d]{6}$/"
                                            ng-class="{ 'has-error': formEmail.code.$invalid && !formEmail.code.$pristine}" />
                                        <label class="has-error"
                                            ng-show="formEmail.code.$dirty && formEmail.code.$invalid ">
                                            <span ng-show='formEmail.code.$error.required'
                                                data-translate="register.formMobile.sms.placeholder">
                                            </span>
                                            <span ng-show='formEmail.code.$error.pattern'
                                                data-translate="register.formMobile.entry.mobilecode"></span>
                                        </label>
                                        <div class="form-sms__content">
                                            <button class="btn btn-yellow btn-block" type="button"
                                                ng-click="vm.method.checkEmailExists()"
                                                ng-if="!vm.email.email || vm.data.disabled"
                                                ng-disabled="!vm.email.email || vm.data.disabled">
                                                <span ng-if="!vm.data.disabled">{{'register.formMobile.sendSms' |
                                                    translate}}</span>
                                                <span ng-if="vm.data.disabled">
                                                    <label for="">{{'register.formMobile.resend' |
                                                        translate}}</label>{{vm.data.text}}
                                                </span>
                                            </button>
                                            <button class="btn btn-yellow" type="button"
                                                ng-click="vm.method.checkEmailExists()"
                                                ng-if="!(!vm.email.email || vm.data.disabled)"
                                                ng-disabled="!vm.email.email || vm.data.disabled"
                                                data-translate="register.formMobile.sendSms"></button>
                                        </div>
                                    </div>
                                    <!-- <div class="row">
                                        <div class="col-sm-8">
                                            <input autocomplete="off" type="text" class="form-control" ng-model="vm.email.code"
                                                name="code" required ng-focus ng-pattern="/^[\d]{6}$/" ng-class="{ 'has-error': formEmail.code.$invalid && !formEmail.code.$pristine}" />
                                            <label class="has-error" ng-show="formEmail.code.$dirty && formEmail.code.$invalid ">
                                                <span ng-show='formEmail.code.$error.required' data-translate="register.formMobile.sms.placeholder">
                                                </span>
                                                <span ng-show='formEmail.code.$error.pattern' data-translate="register.formMobile.entry.mobilecode"></span>
                                            </label>
                                        </div>
                                        <div class="col-sm-4">
                                            <button class="btn btn-yellow btn-block" type="button" ng-click="vm.method.checkEmailExists()"
                                                ng-if="!vm.email.captchacode || vm.data.disabled" ng-disabled="!vm.email.captchacode || vm.data.disabled">{{vm.data.text}}</button>
                                            <button class="btn btn-yellow" type="button" ng-click="vm.method.checkEmailExists()"
                                                ng-if="!(!vm.email.captchacode || vm.data.disabled)" ng-disabled="!vm.email.captchacode || vm.data.disabled">{{vm.data.text}}</button>
                                        </div>
                                    </div> -->
                                </div>
                                <div class="form-group">
                                    <label data-translate="register.formMobile.password"></label>
                                    <input autocomplete="off" type="password" class="form-control" name="password"
                                        ng-model="vm.email.password" required ng-focus
                                        ng-class="{ 'has-error': formEmail.password.$invalid && !formEmail.password.$pristine}"
                                        ng-pattern="/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,16}$/" />

                                    <label class="has-error"
                                        ng-if="formEmail.password.$dirty && formEmail.password.$invalid">
                                        <span ng-show='formEmail.password.$error.required'
                                            data-translate="register.formMobile.password.required.notnull">
                                        </span>
                                        <span ng-show='formEmail.password.$error.pattern'
                                            data-translate="register.formMobile.password.required"></span>
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label data-translate="register.formMobile.confirmPassword"></label>
                                    <input autocomplete="off" type="password" class="form-control"
                                        name="confirmPassword" required ng-model="vm.email.confirmPassword" required
                                        ng-focus password-check="password"
                                        ng-class="{ 'has-error': formEmail.confirmPassword.$invalid && !formEmail.confirmPassword.$pristine}" />
                                    <label class="has-error"
                                        ng-show="formEmail.confirmPassword.$dirty && formEmail.confirmPassword.$invalid ">
                                        <span ng-show='formEmail.confirmPassword.$error.required'
                                            data-translate="register.formMobile.password.required.notnull">
                                        </span>
                                        <span ng-show="formEmail.confirmPassword.$error.repeat"
                                            data-translate="register.formMobile.password.required.unify"></span>
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label data-translate="register.formMobile.inviteCode"></label>
                                    <input autocomplete="off" type="text" class="form-control"
                                        ng-model="vm.email.inviteCode" />
                                </div>
                                <div class="form-group form-protocol">
                                    <label>
                                        <input autocomplete="off" type="checkbox" name=""
                                            ng-model="vm.email.aggrement" />
                                        {{'register.formMobile.comfirm' |translate}}
                                        <a data-translate="register.formMobile.agreement" ui-sref="about.agreement"
                                            target="_blank"></a>
                                        <a ui-sref="about.privacyPolicy"
                                            data-translate="register.formMobile.Privacy.clause" target="_blank">
                                        </a>
                                    </label>
                                </div>
                                <!-- <div class="form-group form-protocol">
                                    <label>
                                        <input autocomplete="off" type="checkbox" ng-model="vm.email.privacy" />
                                        <span data-translate="register.formMobile.comfirm"></span>
                                        <a ui-sref="about.privacyPolicy">
                                            <span data-translate="register.formMobile.Privacy.clause"></span>
                                        </a>
                                    </label>
                                </div> -->
                                <div class="form-group">
                                    <button class="btn btn-info btn-submit" ng-if="formEmail.$invalid" type="submit"
                                        data-translate="register.submit" disabled>
                                    </button>
                                    <button class="btn btn-info btn-submit" ng-if="!formEmail.$invalid" type="submit"
                                        button-loadbar="vm.isLoadingEmail"
                                        button-value="{{'register.submit' |translate}}">
                                    </button>

                                    <!-- <button class="btn btn-info btn-submit" type="submit" ng-disabled="formEmail.$invalid">注册账户</button> -->
                                </div>
                            </form>
                        </div>
                        <div class="content__right">
                            <p data-translate="register.formMobile.run.environment">Lodash 采用 MIT license
                                协议发布，并且支持最新的运行环境。</p>
                            <!-- <p> Review the build differences & pick one that’s right for you.</p> -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="alert alert-danger" ng-show="vm.authenticationError"
        data-translate="login.messages.error.authentication">
        <strong>Failed to sign in!</strong> Please check your credentials and try again.
    </div>
</div>